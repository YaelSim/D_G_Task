(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),l=(a(54),a(9)),s=a(20),u=a.n(s),i=a(5),m="localhost",f="5000",d="".concat("Http","://").concat(m,":").concat(f),b=a(153),E=a(150),h=a(154),g=a(151),v=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),m=s[0],f=s[1],v=Object(i.f)();return r.a.createElement("div",{className:"WelcomePage"},r.a.createElement(h.a,{sx:{my:8,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(b.a,{color:"blue",variant:"h2"}," Welcome "),r.a.createElement(b.a,{color:"blue",variant:"h4"}," To "),r.a.createElement(b.a,{color:"blue",variant:"h3"}," Draw and Guess "),r.a.createElement("br",null),r.a.createElement(E.a,{label:"Name",size:"small",id:"name",name:"name",onChange:function(e){c(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(g.a,{variant:"contained",onClick:function(){u.a.post("".concat(d,"/users/username"),{name:a},{room:m}).then(function(e){localStorage.setItem("Name",e.data)}).catch(function(e){e.response&&e.response.data}),u.a.get("".concat(d,"/users/getRoomID")).then(function(e){localStorage.setItem("RoomID",e.data),v("/wait")}).catch(function(e){e.response&&e.response.data})}},"Create new Game"),r.a.createElement("br",null),r.a.createElement(E.a,{label:"Room number",size:"small",id:"room",name:"room",onChange:function(e){f(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(g.a,{variant:"contained",onClick:function(){u.a.post("".concat(d,"/users/joinRoom"),{room:m}).then(function(e){localStorage.setItem("RoomID",e.data),v("/guess-word")}).catch(function(e){e.response&&e.response.data})}},"Start Exists Game")))},p=a(26),w=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(i.f)();Object(n.useEffect)(function(){u.a.get("".concat(d,"/Words/getRandomsWords")).then(function(e){c(e.data)}).catch(function(e){e.response&&e.response.data})},[]);var s=function(e){u.a.post("".concat(d,"/Words/receivingChosenWord"),{word:e.currentTarget.textContent},{headers:{room:localStorage.getItem("RoomID")}}).then(function(e){o("/draw-word")}).catch(function(e){e.response&&e.response.data})};return r.a.createElement("div",{className:"ChooseWord"},r.a.createElement(h.a,{sx:{my:10,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h2"}," Choose Word"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),a.map(function(e,t){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(g.a,{variant:"outlined",size:"large",sx:{m:1},onClick:s,key:t},r.a.createElement("span",null,e)))}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(g.a,{variant:"contained",size:"small"},"Exit"))))},x=a(16),j=a(155),O=function(){var e,t=Object(n.useRef)(null),a=Object(n.useRef)(null),c=Object(n.useState)(!1),o=Object(l.a)(c,2),s=o[0],m=o[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),v=E[0],w=E[1],O=Object(n.useState)(!1),S=Object(l.a)(O,2),I=S[0],y=S[1],D=Object(n.useState)(""),k=Object(l.a)(D,2),R=k[0],T=k[1],C=Object(n.useState)(0),W=Object(l.a)(C,2),N=W[0],P=W[1],z=Object(i.f)();Object(n.useEffect)(function(){G(),M()},[]);var G=function(){u.a.get("".concat(d,"/Words/getChosenWord"),{headers:{room:localStorage.getItem("RoomID")}}).then(function(e){T(e.data.word)}).catch(function(e){e.response&&e.response.data})},M=function(){u.a.get("".concat(d,"/users/getSessionScore"),{headers:{room:localStorage.getItem("RoomID")}}).then(function(e){P(e.data)}).catch(function(e){e.response&&e.response.data})};Object(n.useEffect)(function(){var e=t.current;e.width=300,e.height=300,e.style.width="300px",e.style.height="300px";var n=e.getContext("2d");n.scale(10/9,10/9),n.lineCap="round",n.strokeStyle="black",n.lineWidth=5,a.current=n,document.body.style.overflow="hidden"},[]);var Y=function(){e=setInterval(function(){u.a.get("".concat(d,"/users/checkIfRoundOver"),{headers:{room:localStorage.getItem("RoomID")}}).then(function(t){t.data&&(clearInterval(e),z("/guess-word"))}).catch(function(e){e.response&&e.response.data})},5e3)};return r.a.createElement("div",{className:"Draw"},r.a.createElement(h.a,{sx:{my:6,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("br",null),r.a.createElement(b.a,{sx:{ml:1},color:"blue",variant:"h3"},"  The word you need to draw is: "),r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h2"},' "',R,'" '),r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h4"}," Score : ",N," "),r.a.createElement("canvas",{style:{border:"2px solid #000"},onMouseDown:function(e){var n=e.clientX,r=e.clientY,c=n-t.current.offsetLeft,o=r-t.current.offsetTop;a.current.beginPath(),m(!0);var l=new Date;w([].concat(Object(x.a)(v),[{x:c,y:o,start:!0,time:l.getTime()}]))},onMouseUp:function(){a.current.closePath(),m(!1)},onMouseMove:function(e){var t=e.nativeEvent;if(s){var n=t.offsetX,r=t.offsetY;a.current.lineTo(n,r),a.current.stroke();var c=new Date;w([].concat(Object(x.a)(v),[{x:n,y:r,start:!1,time:c.getTime()}]))}},onTouchStart:function(e){var n=e.changedTouches[0],r=n.pageX,c=n.pageY,o=r-t.current.offsetLeft,l=c-t.current.offsetTop;a.current.beginPath(),a.current.moveTo(o,l),m(!0);var s=new Date;w([].concat(Object(x.a)(v),[{x:o,y:l,start:!0,time:s.getTime()}]))},onTouchMove:function(e){var n=e.changedTouches[0],r=n.pageX,c=n.pageY,o=r-t.current.offsetLeft,l=c-t.current.offsetTop;a.current.lineTo(o,l),a.current.stroke();var s=new Date;w([].concat(Object(x.a)(v),[{x:o,y:l,start:!1,time:s.getTime()}]))},onTouchEnd:function(e){a.current.closePath()},ref:t}),r.a.createElement("br",null),r.a.createElement(j.a,{variant:"contained",size:"medium",sx:{boxShadow:0}},r.a.createElement(g.a,{sx:{mr:3},onClick:function(){a.current.clearRect(0,0,a.current.canvas.width,a.current.canvas.height),w([])},disabled:I},"clear"),r.a.createElement(g.a,{sx:{ml:3},onClick:function(){u.a.post("".concat(d,"/Draw/sendData"),v,{headers:{room:localStorage.getItem("RoomID")}}).then(function(e){y(!0),Y()}).catch(function(e){e.response&&e.response.data})},disabled:I},"send")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(g.a,{variant:"contained",size:"small"},"Exit"))))},S=a(28),I=a.n(S),y=a(33),D=function(){var e,t=Object(i.f)(),a={room:localStorage.getItem("RoomID"),name:localStorage.getItem("Name")},c=function(){var n=Object(y.a)(I.a.mark(function n(){return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=setInterval(function(){u.a.get("".concat(d,"/users/checkAmountOfPlayers"),{headers:a}).then(function(a){console.log(a.data),1!=a.data&&(clearInterval(e),a.data>1&&t("/choose-word"))}).catch(function(e){e.response&&e.response.data})},5e3);case 1:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();return Object(n.useEffect)(function(){c()}),r.a.createElement("div",{className:"WaitingPage"},r.a.createElement(h.a,{sx:{my:8,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h3"}," Hello ",localStorage.getItem("Name")," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h4"}," Wait for another player "),r.a.createElement(b.a,{color:"blue",variant:"h4"}," to join :) "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h4"}," Your Room Number is:"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h3"},localStorage.getItem("RoomID")," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(g.a,{variant:"contained",size:"small"},"Exit"))))},k=function(){var e,t=Object(i.f)(),a=Object(n.useState)(0),c=Object(l.a)(a,2),o=c[0],s=c[1],m=Object(n.useRef)(null),f=Object(n.useRef)(null),v=Object(n.useState)(!1),w=Object(l.a)(v,2),x=w[0],j=w[1],O=Object(n.useState)(""),S=Object(l.a)(O,2),D=S[0],k=S[1],R=Object(n.useState)([]),T=Object(l.a)(R,2),C=T[0],W=T[1],N=Object(n.useState)(!1),P=Object(l.a)(N,2),z=P[0],G=P[1];Object(n.useEffect)(function(){M()},[]);var M=function(){u.a.get("".concat(d,"/users/getSessionScore"),{headers:{room:localStorage.getItem("RoomID")}}).then(function(e){s(e.data)}).catch(function(e){e.response&&e.response.data})};Object(n.useEffect)(function(){var e=m.current;e.width=300,e.height=300,e.style.width="300px",e.style.height="300px";var t=e.getContext("2d");t.scale(10/9,10/9),t.lineCap="round",t.strokeStyle="black",t.lineWidth=5,f.current=t,Y()},[]);var Y=function(){var t=Object(y.a)(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=2;break}return t.abrupt("return");case 2:e=setInterval(function(){u.a.get("".concat(d,"/Draw/getData"),{headers:{room:localStorage.getItem("RoomID")}}).then(function(t){t.data.ready&&(W(t.data.data),j(!0),clearInterval(e))}).catch(function(e){e.response&&e.response.data})},5e3);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),X=function(){var e=Object(y.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.current.clearRect(0,0,f.current.canvas.width,f.current.canvas.height),t={time:C[0].time},G(!0),C.forEach(function(){var e=Object(y.a)(I.a.mark(function e(a,n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){a.start?(f.current.closePath(),f.current.beginPath(),f.current.moveTo(a.x,a.y)):(f.current.lineTo(a.x,a.y),f.current.stroke()),n===C.length-1&&G(!1),t=a},a.time-t.time);case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"GuessPage"},r.a.createElement(h.a,{sx:{my:6,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h3"}," Guess the word "),r.a.createElement("br",null),r.a.createElement(b.a,{color:"blue",variant:"h4"}," Score : ",o," "),r.a.createElement("canvas",{style:{border:"2px solid #000"},ref:m}),r.a.createElement("br",null),x?r.a.createElement("div",{className:"GuessPage"},r.a.createElement(g.a,{variant:"contained",size:"medium",sx:{ml:10},onClick:X,disabled:z},"View drawing"),r.a.createElement("div",{className:"GuessPage"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,{label:"Answer",size:"small",id:"The Guess:",onChange:function(e){k(e.target.value)}}),r.a.createElement(g.a,{variant:"contained",size:"medium",sx:{ml:1},onClick:function(){u.a.post("".concat(d,"/Words/receivingSubmitWord"),{word:D},{headers:{room:localStorage.getItem("RoomID")}}).then(function(e){e.data.isMatch,t("/choose-word")}).catch(function(e){e.response&&e.response.data})}},"Submit"))):r.a.createElement(b.a,{color:"blue",variant:"h4"}," Waiting for the Draw "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(g.a,{variant:"contained",size:"small"},"Exit"))))},R=function(){return r.a.createElement(p.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",element:r.a.createElement(v,null)}),r.a.createElement(i.a,{path:"/choose-word",element:r.a.createElement(w,null)}),r.a.createElement(i.a,{path:"/draw-word",element:r.a.createElement(O,null)}),r.a.createElement(i.a,{path:"/wait",element:r.a.createElement(D,null)}),r.a.createElement(i.a,{path:"/guess-word",element:r.a.createElement(k,null)})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root"))},54:function(e,t,a){},78:function(e,t,a){e.exports=a(115)}},[[78,2,1]]]);
//# sourceMappingURL=main.f988746a.chunk.js.map